{"version":3,"file":"background.js","mappings":"mBA8BAA,OAAOC,OAAOC,UAAUC,aA5BxB,SAAuBC,GACnB,MAAMC,EAAQD,EAAIE,GACL,MAATD,EAKJL,OAAOO,KAAKC,kBAAkB,CAAEC,OAAQ,QAASC,MAAOC,UAE9CX,OAAOY,UAAUC,cAAc,CACjCC,OAAQ,CAAET,SACVU,MAAO,CAAC,4BAYpBL,eAA2BL,EAAeW,SAChChB,OAAOO,KAAKU,YAAYZ,EAAOW,EACzC,CAXcC,CAAYZ,EAAO,CAAEa,KAAM,SAAUP,WAAU,IAXrDQ,QAAQC,MAAM,YAkBtB,G","sources":["webpack://qr-print/./src/background.ts"],"sourcesContent":["import { ExtensionRequest } from \"./messages\";\n\nfunction onClickAction(tab: chrome.tabs.Tab) {\n    const tabId = tab.id;\n    if (tabId == null) {\n        console.error(\"No tab id\");\n        return;\n    }\n\n    chrome.tabs.captureVisibleTab({ format: \"png\" }, async (dataUrl: string) => {\n\n        await chrome.scripting.executeScript({\n            target: { tabId },\n            files: [\"contentScript.js\"],\n        });\n\n        await sendMessage(tabId, { type: \"detect\", dataUrl });\n\n        //     await sendMessage(tabId, { type: \"close\" });\n\n\n    });\n\n}\n\nasync function sendMessage(tabId: number, request: ExtensionRequest): Promise<void> {\n    await chrome.tabs.sendMessage(tabId, request);\n}\n\n\nchrome.action.onClicked.addListener(onClickAction);"],"names":["chrome","action","onClicked","addListener","tab","tabId","id","tabs","captureVisibleTab","format","async","dataUrl","scripting","executeScript","target","files","request","sendMessage","type","console","error"],"sourceRoot":""}